!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(z){function y(a){var f={},e=/^jQuery\d+$/;return z.each(a.attributes,function(d,c){c.specified&&!e.test(c.name)&&(f[c.name]=c.value)}),f}function x(a,h){var g=this,e=z(g);if(g.value==e.attr("placeholder")&&e.hasClass(n.customClass)){if(e.data("placeholder-password")){if(e=e.hide().nextAll('input[type="password"]:first').show().attr("id",e.removeAttr("id").data("placeholder-id")),a===!0){return e[0].value=h}e.focus()}else{g.value="",e.removeClass(n.customClass),g==v()&&g.select()}}}function w(){var j,i=this,c=z(i),b=this.id;if(""===i.value){if("password"===i.type){if(!c.data("placeholder-textinput")){try{j=c.clone().prop({type:"text"})}catch(a){j=z("<input>").attr(z.extend(y(this),{type:"text"}))}j.removeAttr("name").data({"placeholder-password":c,"placeholder-id":b}).bind("focus.placeholder",x),c.data({"placeholder-textinput":j,"placeholder-id":b}).before(j)}c=c.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",b).show()}c.addClass(n.customClass),c[0].value=c.attr("placeholder")}else{c.removeClass(n.customClass)}}function v(){try{return document.activeElement}catch(b){}}var u,t,s="[object OperaMini]"==Object.prototype.toString.call(window.operamini),r="placeholder" in document.createElement("input")&&!s,q="placeholder" in document.createElement("textarea")&&!s,p=z.valHooks,o=z.propHooks;if(r&&q){t=z.fn.placeholder=function(){return this},t.input=t.textarea=!0}else{var n={};t=z.fn.placeholder=function(a){var d={customClass:"placeholder"};n=z.extend({},d,a);var c=this;return c.filter((r?"textarea":":input")+"[placeholder]").not("."+n.customClass).bind({"focus.placeholder":x,"blur.placeholder":w}).data("placeholder-enabled",!0).trigger("blur.placeholder"),c},t.input=r,t.textarea=q,u={get:function(a){var f=z(a),e=f.data("placeholder-password");return e?e[0].value:f.data("placeholder-enabled")&&f.hasClass(n.customClass)?"":a.value},set:function(a,e){var d=z(a),c=d.data("placeholder-password");return c?c[0].value=e:d.data("placeholder-enabled")?(""===e?(a.value=e,a!=v()&&w.call(a)):d.hasClass(n.customClass)?x.call(a,!0,e)||(a.value=e):a.value=e,d):a.value=e}},r||(p.input=u,o.value=u),q||(p.textarea=u,o.value=u),z(function(){z(document).delegate("form","submit.placeholder",function(){var a=z("."+n.customClass,this).each(x);setTimeout(function(){a.each(w)},10)})}),z(window).bind("beforeunload.placeholder",function(){z("."+n.customClass).each(function(){this.value=""})})}});
/*!
 * FitVids 1.1
 *
 * Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
 * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 *
 */
!function(b){b.fn.fitVids=function(a){var j={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],h=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",g=document.createElement("div");g.innerHTML='<p>x</p><style id="fit-vids-style">'+h+"</style>",i.appendChild(g.childNodes[1])}return a&&b.extend(j,a),this.each(function(){var c=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];j.customSelector&&c.push(j.customSelector);var k=".fitvidsignore";j.ignore&&(k=k+", "+j.ignore);var f=b(this).find(c.join(","));f=f.not("object object"),f=f.not(k),f.each(function(d){var p=b(this);if(!(p.parents(k).length>0||"embed"===this.tagName.toLowerCase()&&p.parent("object").length||p.parent(".fluid-width-video-wrapper").length)){p.css("height")||p.css("width")||!isNaN(p.attr("height"))&&!isNaN(p.attr("width"))||(p.attr("height",9),p.attr("width",16));var o="object"===this.tagName.toLowerCase()||p.attr("height")&&!isNaN(parseInt(p.attr("height"),10))?parseInt(p.attr("height"),10):p.height(),n=isNaN(parseInt(p.attr("width"),10))?p.width():parseInt(p.attr("width"),10),m=o/n;if(!p.attr("id")){var l="fitvid"+d;p.attr("id",l)}p.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*m+"%"),p.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);!function(a){a.flexslider=function(y,E){var B=a(y);B.vars=a.extend({},a.flexslider.defaults,E);var j=B.vars.namespace,w=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,F=("ontouchstart" in window||w||window.DocumentTouch&&document instanceof DocumentTouch)&&B.vars.touch,b="click touchend MSPointerUp keyup",h="",q,A="vertical"===B.vars.direction,z=B.vars.reverse,D=B.vars.itemWidth>0,C="fade"===B.vars.animation,g=""!==B.vars.asNavFor,k={},x=!0;a.data(y,"flexslider",B),k={init:function(){B.animating=!1,B.currentSlide=parseInt(B.vars.startAt?B.vars.startAt:0,10),isNaN(B.currentSlide)&&(B.currentSlide=0),B.animatingTo=B.currentSlide,B.atEnd=0===B.currentSlide||B.currentSlide===B.last,B.containerSelector=B.vars.selector.substr(0,B.vars.selector.search(" ")),B.slides=a(B.vars.selector,B),B.container=a(B.containerSelector,B),B.count=B.slides.length,B.syncExists=a(B.vars.sync).length>0,"slide"===B.vars.animation&&(B.vars.animation="swing"),B.prop=A?"top":"marginLeft",B.args={},B.manualPause=!1,B.stopped=!1,B.started=!1,B.startTimeout=null,B.transitions=!B.vars.video&&!C&&B.vars.useCSS&&function(){var d=document.createElement("div"),c=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var f in c){if(void 0!==d.style[c[f]]){return B.pfx=c[f].replace("Perspective","").toLowerCase(),B.prop="-"+B.pfx+"-transform",!0}}return !1}(),B.ensureAnimationEnd="",""!==B.vars.controlsContainer&&(B.controlsContainer=a(B.vars.controlsContainer).length>0&&a(B.vars.controlsContainer)),""!==B.vars.manualControls&&(B.manualControls=a(B.vars.manualControls).length>0&&a(B.vars.manualControls)),""!==B.vars.customDirectionNav&&(B.customDirectionNav=2===a(B.vars.customDirectionNav).length&&a(B.vars.customDirectionNav)),B.vars.randomize&&(B.slides.sort(function(){return Math.round(Math.random())-0.5}),B.container.empty().append(B.slides)),B.doMath(),B.setup("init"),B.vars.controlNav&&k.controlNav.setup(),B.vars.directionNav&&k.directionNav.setup(),B.vars.keyboard&&(1===a(B.containerSelector).length||B.vars.multipleKeyboard)&&a(document).bind("keyup",function(d){var c=d.keyCode;if(!B.animating&&(39===c||37===c)){var f=39===c?B.getTarget("next"):37===c?B.getTarget("prev"):!1;B.flexAnimate(f,B.vars.pauseOnAction)}}),B.vars.mousewheel&&B.bind("mousewheel",function(l,d,m,c){l.preventDefault();var f=B.getTarget(0>d?"next":"prev");B.flexAnimate(f,B.vars.pauseOnAction)}),B.vars.pausePlay&&k.pausePlay.setup(),B.vars.slideshow&&B.vars.pauseInvisible&&k.pauseInvisible.init(),B.vars.slideshow&&(B.vars.pauseOnHover&&B.hover(function(){B.manualPlay||B.manualPause||B.pause()},function(){B.manualPause||B.manualPlay||B.stopped||B.play()}),B.vars.pauseInvisible&&k.pauseInvisible.isHidden()||(B.vars.initDelay>0?B.startTimeout=setTimeout(B.play,B.vars.initDelay):B.play())),g&&k.asNav.setup(),F&&B.vars.touch&&k.touch(),(!C||C&&B.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",k.resize),B.find("img").attr("draggable","false"),setTimeout(function(){B.vars.start(B)},200)},asNav:{setup:function(){B.asNav=!0,B.animatingTo=Math.floor(B.currentSlide/B.move),B.currentItem=B.currentSlide,B.slides.removeClass(j+"active-slide").eq(B.currentItem).addClass(j+"active-slide"),w?(y._slider=B,B.slides.each(function(){var c=this;c._gesture=new MSGesture,c._gesture.target=c,c.addEventListener("MSPointerDown",function(d){d.preventDefault(),d.currentTarget._gesture&&d.currentTarget._gesture.addPointer(d.pointerId)},!1),c.addEventListener("MSGestureTap",function(f){f.preventDefault();var d=a(this),i=d.index();a(B.vars.asNavFor).data("flexslider").animating||d.hasClass("active")||(B.direction=B.currentItem<i?"next":"prev",B.flexAnimate(i,B.vars.pauseOnAction,!1,!0,!0))})})):B.slides.on(b,function(l){l.preventDefault();var d=a(this),c=d.index(),f=d.offset().left-a(B).scrollLeft();0>=f&&d.hasClass(j+"active-slide")?B.flexAnimate(B.getTarget("prev"),!0):a(B.vars.asNavFor).data("flexslider").animating||d.hasClass(j+"active-slide")||(B.direction=B.currentItem<c?"next":"prev",B.flexAnimate(c,B.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){B.manualControls?k.controlNav.setupManual():k.controlNav.setupPaging()},setupPaging:function(){var o="thumbnails"===B.vars.controlNav?"control-thumbs":"control-paging",m=1,f,n;if(B.controlNavScaffold=a('<ol class="'+j+"control-nav "+j+o+'"></ol>'),B.pagingCount>1){for(var d=0;d<B.pagingCount;d++){if(n=B.slides.eq(d),f="thumbnails"===B.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+m+"</a>","thumbnails"===B.vars.controlNav&&!0===B.vars.thumbCaptions){var p=n.attr("data-thumbcaption");""!==p&&void 0!==p&&(f+='<span class="'+j+'caption">'+p+"</span>")}B.controlNavScaffold.append("<li>"+f+"</li>"),m++}}B.controlsContainer?a(B.controlsContainer).append(B.controlNavScaffold):B.append(B.controlNavScaffold),k.controlNav.set(),k.controlNav.active(),B.controlNavScaffold.delegate("a, img",b,function(r){if(r.preventDefault(),""===h||h===r.type){var l=a(this),c=B.controlNav.index(l);l.hasClass(j+"active")||(B.direction=c>B.currentSlide?"next":"prev",B.flexAnimate(c,B.vars.pauseOnAction))}""===h&&(h=r.type),k.setToClearWatchedEvent()})},setupManual:function(){B.controlNav=B.manualControls,k.controlNav.active(),B.controlNav.bind(b,function(f){if(f.preventDefault(),""===h||h===f.type){var d=a(this),c=B.controlNav.index(d);d.hasClass(j+"active")||(B.direction=c>B.currentSlide?"next":"prev",B.flexAnimate(c,B.vars.pauseOnAction))}""===h&&(h=f.type),k.setToClearWatchedEvent()})},set:function(){var c="thumbnails"===B.vars.controlNav?"img":"a";B.controlNav=a("."+j+"control-nav li "+c,B.controlsContainer?B.controlsContainer:B)},active:function(){B.controlNav.removeClass(j+"active").eq(B.animatingTo).addClass(j+"active")},update:function(d,c){B.pagingCount>1&&"add"===d?B.controlNavScaffold.append(a("<li><a>"+B.count+"</a></li>")):1===B.pagingCount?B.controlNavScaffold.find("li").remove():B.controlNav.eq(c).closest("li").remove(),k.controlNav.set(),B.pagingCount>1&&B.pagingCount!==B.controlNav.length?B.update(c,d):k.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+j+'direction-nav"><li class="'+j+'nav-prev"><a class="'+j+'prev" href="#">'+B.vars.prevText+'</a></li><li class="'+j+'nav-next"><a class="'+j+'next" href="#">'+B.vars.nextText+"</a></li></ul>");B.customDirectionNav?B.directionNav=B.customDirectionNav:B.controlsContainer?(a(B.controlsContainer).append(c),B.directionNav=a("."+j+"direction-nav li a",B.controlsContainer)):(B.append(c),B.directionNav=a("."+j+"direction-nav li a",B)),k.directionNav.update(),B.directionNav.bind(b,function(f){f.preventDefault();var d;(""===h||h===f.type)&&(d=B.getTarget(a(this).hasClass(j+"next")?"next":"prev"),B.flexAnimate(d,B.vars.pauseOnAction)),""===h&&(h=f.type),k.setToClearWatchedEvent()})},update:function(){var c=j+"disabled";1===B.pagingCount?B.directionNav.addClass(c).attr("tabindex","-1"):B.vars.animationLoop?B.directionNav.removeClass(c).removeAttr("tabindex"):0===B.animatingTo?B.directionNav.removeClass(c).filter("."+j+"prev").addClass(c).attr("tabindex","-1"):B.animatingTo===B.last?B.directionNav.removeClass(c).filter("."+j+"next").addClass(c).attr("tabindex","-1"):B.directionNav.removeClass(c).removeAttr("tabindex")}},pausePlay:{setup:function(){var c=a('<div class="'+j+'pauseplay"><a></a></div>');B.controlsContainer?(B.controlsContainer.append(c),B.pausePlay=a("."+j+"pauseplay a",B.controlsContainer)):(B.append(c),B.pausePlay=a("."+j+"pauseplay a",B)),k.pausePlay.update(B.vars.slideshow?j+"pause":j+"play"),B.pausePlay.bind(b,function(d){d.preventDefault(),(""===h||h===d.type)&&(a(this).hasClass(j+"pause")?(B.manualPause=!0,B.manualPlay=!1,B.pause()):(B.manualPause=!1,B.manualPlay=!0,B.play())),""===h&&(h=d.type),k.setToClearWatchedEvent()})},update:function(c){"play"===c?B.pausePlay.removeClass(j+"pause").addClass(j+"play").html(B.vars.playText):B.pausePlay.removeClass(j+"play").addClass(j+"pause").html(B.vars.pauseText)}},touch:function(){function O(f){f.stopPropagation(),B.animating?f.preventDefault():(B.pause(),y._gesture.addPointer(f.pointerId),N=0,d=A?B.h:B.w,J=Number(new Date),v=D&&z&&B.animatingTo===B.last?0:D&&z?B.limit-(B.itemW+B.vars.itemMargin)*B.move*B.animatingTo:D&&B.currentSlide===B.last?B.limit:D?(B.itemW+B.vars.itemMargin)*B.move*B.currentSlide:z?(B.last-B.currentSlide+B.cloneOffset)*d:(B.currentSlide+B.cloneOffset)*d)}function i(m){m.stopPropagation();var f=m.target._slider;if(f){var o=-m.translationX,l=-m.translationY;return N+=A?l:o,u=N,L=A?Math.abs(N)<Math.abs(-o):Math.abs(N)<Math.abs(-l),m.detail===m.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){y._gesture.stop()}):void ((!L||Number(new Date)-J>500)&&(m.preventDefault(),!C&&f.transitions&&(f.vars.animationLoop||(u=N/(0===f.currentSlide&&0>N||f.currentSlide===f.last&&N>0?Math.abs(N)/d+2:1)),f.setProps(v+u,"setTouch"))))}}function P(m){m.stopPropagation();var l=m.target._slider;if(l){if(l.animatingTo===l.currentSlide&&!L&&null!==u){var f=z?-u:u,o=l.getTarget(f>0?"next":"prev");l.canAdvance(o)&&(Number(new Date)-J<550&&Math.abs(f)>50||Math.abs(f)>d/2)?l.flexAnimate(o,l.vars.pauseOnAction):C||l.flexAnimate(l.currentSlide,l.vars.pauseOnAction,!0)}c=null,e=null,u=null,v=null,N=0}}var c,e,v,d,u,J,I,H,G,L=!1,M=0,K=0,N=0;w?(y.style.msTouchAction="none",y._gesture=new MSGesture,y._gesture.target=y,y.addEventListener("MSPointerDown",O,!1),y._slider=B,y.addEventListener("MSGestureChange",i,!1),y.addEventListener("MSGestureEnd",P,!1)):(I=function(f){B.animating?f.preventDefault():(window.navigator.msPointerEnabled||1===f.touches.length)&&(B.pause(),d=A?B.h:B.w,J=Number(new Date),M=f.touches[0].pageX,K=f.touches[0].pageY,v=D&&z&&B.animatingTo===B.last?0:D&&z?B.limit-(B.itemW+B.vars.itemMargin)*B.move*B.animatingTo:D&&B.currentSlide===B.last?B.limit:D?(B.itemW+B.vars.itemMargin)*B.move*B.currentSlide:z?(B.last-B.currentSlide+B.cloneOffset)*d:(B.currentSlide+B.cloneOffset)*d,c=A?K:M,e=A?M:K,y.addEventListener("touchmove",H,!1),y.addEventListener("touchend",G,!1))},H=function(l){M=l.touches[0].pageX,K=l.touches[0].pageY,u=A?c-K:c-M,L=A?Math.abs(u)<Math.abs(M-e):Math.abs(u)<Math.abs(K-e);var f=500;(!L||Number(new Date)-J>f)&&(l.preventDefault(),!C&&B.transitions&&(B.vars.animationLoop||(u/=0===B.currentSlide&&0>u||B.currentSlide===B.last&&u>0?Math.abs(u)/d+2:1),B.setProps(v+u,"setTouch")))},G=function(l){if(y.removeEventListener("touchmove",H,!1),B.animatingTo===B.currentSlide&&!L&&null!==u){var m=z?-u:u,f=B.getTarget(m>0?"next":"prev");B.canAdvance(f)&&(Number(new Date)-J<550&&Math.abs(m)>50||Math.abs(m)>d/2)?B.flexAnimate(f,B.vars.pauseOnAction):C||B.flexAnimate(B.currentSlide,B.vars.pauseOnAction,!0)}y.removeEventListener("touchend",G,!1),c=null,e=null,u=null,v=null},y.addEventListener("touchstart",I,!1))},resize:function(){!B.animating&&B.is(":visible")&&(D||B.doMath(),C?k.smoothHeight():D?(B.slides.width(B.computedW),B.update(B.pagingCount),B.setProps()):A?(B.viewport.height(B.h),B.setProps(B.h,"setTotal")):(B.vars.smoothHeight&&k.smoothHeight(),B.newSlides.width(B.computedW),B.setProps(B.computedW,"setTotal")))},smoothHeight:function(d){if(!A||C){var c=C?B:B.viewport;d?c.animate({height:B.slides.eq(B.animatingTo).height()},d):c.height(B.slides.eq(B.animatingTo).height())}},sync:function(d){var c=a(B.vars.sync).data("flexslider"),f=B.animatingTo;switch(d){case"animate":c.flexAnimate(f,B.vars.pauseOnAction,!1,!0);break;case"play":c.playing||c.asNav||c.play();break;case"pause":c.pause()}},uniqueID:function(c){return c.filter("[id]").add(c.find("[id]")).each(function(){var d=a(this);d.attr("id",d.attr("id")+"_clone")}),c},pauseInvisible:{visProp:null,init:function(){var d=k.pauseInvisible.getHiddenProp();if(d){var c=d.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(c,function(){k.pauseInvisible.isHidden()?B.startTimeout?clearTimeout(B.startTimeout):B.pause():B.started?B.play():B.vars.initDelay>0?setTimeout(B.play,B.vars.initDelay):B.play()})}},isHidden:function(){var c=k.pauseInvisible.getHiddenProp();return c?document[c]:!1},getHiddenProp:function(){var d=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var c=0;c<d.length;c++){if(d[c]+"Hidden" in document){return d[c]+"Hidden"}}return null}},setToClearWatchedEvent:function(){clearTimeout(q),q=setTimeout(function(){h=""},3000)}},B.flexAnimate=function(G,H,p,c,d){if(B.vars.animationLoop||G===B.currentSlide||(B.direction=G>B.currentSlide?"next":"prev"),g&&1===B.pagingCount&&(B.direction=B.currentItem<G?"next":"prev"),!B.animating&&(B.canAdvance(G,d)||p)&&B.is(":visible")){if(g&&c){var m=a(B.vars.asNavFor).data("flexslider");if(B.atEnd=0===G||G===B.count-1,m.flexAnimate(G,!0,!1,!0,d),B.direction=B.currentItem<G?"next":"prev",m.direction=B.direction,Math.ceil((G+1)/B.visible)-1===B.currentSlide||0===G){return B.currentItem=G,B.slides.removeClass(j+"active-slide").eq(G).addClass(j+"active-slide"),!1}B.currentItem=G,B.slides.removeClass(j+"active-slide").eq(G).addClass(j+"active-slide"),G=Math.floor(G/B.visible)}if(B.animating=!0,B.animatingTo=G,H&&B.pause(),B.vars.before(B),B.syncExists&&!d&&k.sync("animate"),B.vars.controlNav&&k.controlNav.active(),D||B.slides.removeClass(j+"active-slide").eq(G).addClass(j+"active-slide"),B.atEnd=0===G||G===B.last,B.vars.directionNav&&k.directionNav.update(),G===B.last&&(B.vars.end(B),B.vars.animationLoop||B.pause()),C){F?(B.slides.eq(B.currentSlide).css({opacity:0,zIndex:1}),B.slides.eq(G).css({opacity:1,zIndex:2}),B.wrapup(v)):(B.slides.eq(B.currentSlide).css({zIndex:1}).animate({opacity:0},B.vars.animationSpeed,B.vars.easing),B.slides.eq(G).css({zIndex:2}).animate({opacity:1},B.vars.animationSpeed,B.vars.easing,B.wrapup))}else{var v=A?B.slides.filter(":first").height():B.computedW,u,s,n;D?(u=B.vars.itemMargin,n=(B.itemW+u)*B.move*B.animatingTo,s=n>B.limit&&1!==B.visible?B.limit:n):s=0===B.currentSlide&&G===B.count-1&&B.vars.animationLoop&&"next"!==B.direction?z?(B.count+B.cloneOffset)*v:0:B.currentSlide===B.last&&0===G&&B.vars.animationLoop&&"prev"!==B.direction?z?0:(B.count+1)*v:z?(B.count-1-G+B.cloneOffset)*v:(G+B.cloneOffset)*v,B.setProps(s,"",B.vars.animationSpeed),B.transitions?(B.vars.animationLoop&&B.atEnd||(B.animating=!1,B.currentSlide=B.animatingTo),B.container.unbind("webkitTransitionEnd transitionend"),B.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(B.ensureAnimationEnd),B.wrapup(v)}),clearTimeout(B.ensureAnimationEnd),B.ensureAnimationEnd=setTimeout(function(){B.wrapup(v)},B.vars.animationSpeed+100)):B.container.animate(B.args,B.vars.animationSpeed,B.vars.easing,function(){B.wrapup(v)})}B.vars.smoothHeight&&k.smoothHeight(B.vars.animationSpeed)}},B.wrapup=function(c){C||D||(0===B.currentSlide&&B.animatingTo===B.last&&B.vars.animationLoop?B.setProps(c,"jumpEnd"):B.currentSlide===B.last&&0===B.animatingTo&&B.vars.animationLoop&&B.setProps(c,"jumpStart")),B.animating=!1,B.currentSlide=B.animatingTo,B.vars.after(B)},B.animateSlides=function(){!B.animating&&x&&B.flexAnimate(B.getTarget("next"))},B.pause=function(){clearInterval(B.animatedSlides),B.animatedSlides=null,B.playing=!1,B.vars.pausePlay&&k.pausePlay.update("play"),B.syncExists&&k.sync("pause")},B.play=function(){B.playing&&clearInterval(B.animatedSlides),B.animatedSlides=B.animatedSlides||setInterval(B.animateSlides,B.vars.slideshowSpeed),B.started=B.playing=!0,B.vars.pausePlay&&k.pausePlay.update("pause"),B.syncExists&&k.sync("play")},B.stop=function(){B.pause(),B.stopped=!0},B.canAdvance=function(d,c){var f=g?B.pagingCount-1:B.last;return c?!0:g&&B.currentItem===B.count-1&&0===d&&"prev"===B.direction?!0:g&&0===B.currentItem&&d===B.pagingCount-1&&"next"!==B.direction?!1:d!==B.currentSlide||g?B.vars.animationLoop?!0:B.atEnd&&0===B.currentSlide&&d===f&&"next"!==B.direction?!1:B.atEnd&&B.currentSlide===f&&0===d&&"next"===B.direction?!1:!0:!1},B.getTarget=function(c){return B.direction=c,"next"===c?B.currentSlide===B.last?0:B.currentSlide+1:0===B.currentSlide?B.last:B.currentSlide-1},B.setProps=function(f,d,l){var c=function(){var m=f?f:(B.itemW+B.vars.itemMargin)*B.move*B.animatingTo,e=function(){if(D){return"setTouch"===d?f:z&&B.animatingTo===B.last?0:z?B.limit-(B.itemW+B.vars.itemMargin)*B.move*B.animatingTo:B.animatingTo===B.last?B.limit:m}switch(d){case"setTotal":return z?(B.count-1-B.currentSlide+B.cloneOffset)*f:(B.currentSlide+B.cloneOffset)*f;case"setTouch":return z?f:f;case"jumpEnd":return z?f:B.count*f;case"jumpStart":return z?B.count*f:f;default:return f}}();return -1*e+"px"}();B.transitions&&(c=A?"translate3d(0,"+c+",0)":"translate3d("+c+",0,0)",l=void 0!==l?l/1000+"s":"0s",B.container.css("-"+B.pfx+"-transition-duration",l),B.container.css("transition-duration",l)),B.args[B.prop]=c,(B.transitions||void 0===l)&&B.container.css(B.args),B.container.css("transform",c)},B.setup=function(f){if(C){B.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===f&&(F?B.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+B.vars.animationSpeed/1000+"s ease",zIndex:1}).eq(B.currentSlide).css({opacity:1,zIndex:2}):0==B.vars.fadeFirstSlide?B.slides.css({opacity:0,display:"block",zIndex:1}).eq(B.currentSlide).css({zIndex:2}).css({opacity:1}):B.slides.css({opacity:0,display:"block",zIndex:1}).eq(B.currentSlide).css({zIndex:2}).animate({opacity:1},B.vars.animationSpeed,B.vars.easing)),B.vars.smoothHeight&&k.smoothHeight()}else{var d,c;"init"===f&&(B.viewport=a('<div class="'+j+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(B).append(B.container),B.cloneCount=0,B.cloneOffset=0,z&&(c=a.makeArray(B.slides).reverse(),B.slides=a(c),B.container.empty().append(B.slides))),B.vars.animationLoop&&!D&&(B.cloneCount=2,B.cloneOffset=1,"init"!==f&&B.container.find(".clone").remove(),B.container.append(k.uniqueID(B.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(k.uniqueID(B.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),B.newSlides=a(B.vars.selector,B),d=z?B.count-1-B.currentSlide+B.cloneOffset:B.currentSlide+B.cloneOffset,A&&!D?(B.container.height(200*(B.count+B.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){B.newSlides.css({display:"block"}),B.doMath(),B.viewport.height(B.h),B.setProps(d*B.h,"init")},"init"===f?100:0)):(B.container.width(200*(B.count+B.cloneCount)+"%"),B.setProps(d*B.computedW,"init"),setTimeout(function(){B.doMath(),B.newSlides.css({width:B.computedW,"float":"left",display:"block"}),B.vars.smoothHeight&&k.smoothHeight()},"init"===f?100:0))}D||B.slides.removeClass(j+"active-slide").eq(B.currentSlide).addClass(j+"active-slide"),B.vars.init(B)},B.doMath=function(){var f=B.slides.first(),d=B.vars.itemMargin,l=B.vars.minItems,c=B.vars.maxItems;B.w=void 0===B.viewport?B.width():B.viewport.width(),B.h=f.height(),B.boxPadding=f.outerWidth()-f.width(),D?(B.itemT=B.vars.itemWidth+d,B.minW=l?l*B.itemT:B.w,B.maxW=c?c*B.itemT-d:B.w,B.itemW=B.minW>B.w?(B.w-d*(l-1))/l:B.maxW<B.w?(B.w-d*(c-1))/c:B.vars.itemWidth>B.w?B.w:B.vars.itemWidth,B.visible=Math.floor(B.w/B.itemW),B.move=B.vars.move>0&&B.vars.move<B.visible?B.vars.move:B.visible,B.pagingCount=Math.ceil((B.count-B.visible)/B.move+1),B.last=B.pagingCount-1,B.limit=1===B.pagingCount?0:B.vars.itemWidth>B.w?B.itemW*(B.count-1)+d*(B.count-1):(B.itemW+d)*B.count-B.w-d):(B.itemW=B.w,B.pagingCount=B.count,B.last=B.count-1),B.computedW=B.itemW-B.boxPadding},B.update=function(d,c){B.doMath(),D||(d<B.currentSlide?B.currentSlide+=1:d<=B.currentSlide&&0!==d&&(B.currentSlide-=1),B.animatingTo=B.currentSlide),B.vars.controlNav&&!B.manualControls&&("add"===c&&!D||B.pagingCount>B.controlNav.length?k.controlNav.update("add"):("remove"===c&&!D||B.pagingCount<B.controlNav.length)&&(D&&B.currentSlide>B.last&&(B.currentSlide-=1,B.animatingTo-=1),k.controlNav.update("remove",B.last))),B.vars.directionNav&&k.directionNav.update()},B.addSlide=function(d,c){var f=a(d);B.count+=1,B.last=B.count-1,A&&z?void 0!==c?B.slides.eq(B.count-c).after(f):B.container.prepend(f):void 0!==c?B.slides.eq(c).before(f):B.container.append(f),B.update(c,"add"),B.slides=a(B.vars.selector+":not(.clone)",B),B.setup(),B.vars.added(B)},B.removeSlide=function(d){var c=isNaN(d)?B.slides.index(a(d)):d;B.count-=1,B.last=B.count-1,isNaN(d)?a(d,B.slides).remove():A&&z?B.slides.eq(B.last).remove():B.slides.eq(d).remove(),B.doMath(),B.update(c,"remove"),B.slides=a(B.vars.selector+":not(.clone)",B),B.setup(),B.vars.removed(B)},k.init()},a(window).blur(function(b){focused=!1}).focus(function(b){focused=!0}),a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},a.fn.flexslider=function(c){if(void 0===c&&(c={}),"object"==typeof c){return this.each(function(){var e=a(this),d=c.selector?c.selector:".slides > li",f=e.find(d);1===f.length&&c.allowOneSlide===!0||0===f.length?(f.fadeIn(400),c.start&&c.start(e)):void 0===e.data("flexslider")&&new a.flexslider(this,c)})}var b=a(this).data("flexslider");switch(c){case"play":b.play();break;case"pause":b.pause();break;case"stop":b.stop();break;case"next":b.flexAnimate(b.getTarget("next"),!0);break;case"prev":case"previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"==typeof c&&b.flexAnimate(c,!0)}}}(jQuery);
/*!
Mailchimp Ajax Submit
jQuery Plugin
Author: Siddharth Doshi

Use:
===
$('#form_id').ajaxchimp(options);

- Form should have one <input> element with attribute 'type=email'
- Form should have one label element with attribute 'for=email_input_id' (used to display error/success message)
- All options are optional.

Options:
=======
options = {
    language: 'en',
    callback: callbackFunction,
    url: 'http://blahblah.us1.list-manage.com/subscribe/post?u=5afsdhfuhdsiufdba6f8802&id=4djhfdsh99f'
}

Notes:
=====
To get the mailchimp JSONP url (undocumented), change 'post?' to 'post-json?' and add '&c=?' to the end.
For e.g. 'http://blahblah.us1.list-manage.com/subscribe/post-json?u=5afsdhfuhdsiufdba6f8802&id=4djhfdsh99f&c=?',
*/
(function(a){a.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(b,c){a(b).ajaxChimp(c)}};a.fn.ajaxChimp=function(b){a(this).each(function(f,j){var h=a(j);var e=h.find("input[type=email]");var d=h.find("label[for="+e.attr("id")+"]");var g=a.extend({url:h.attr("action"),language:"en"},b);var c=g.url.replace("/post?","/post-json?").concat("&c=?");h.attr("novalidate","true");e.attr("name","EMAIL");h.submit(function(){var n;function k(s){if(s.result==="success"){n="We have sent you a confirmation email";d.removeClass("error").addClass("valid");e.removeClass("error").addClass("valid")}else{e.removeClass("valid").addClass("error");d.removeClass("valid").addClass("error");var o=-1;try{var r=s.msg.split(" - ",2);if(r[1]===undefined){n=s.msg}else{var p=parseInt(r[0],10);if(p.toString()===r[0]){o=r[0];n=r[1]}else{o=-1;n=s.msg}}}catch(q){o=-1;n=s.msg}}if(g.language!=="en"&&a.ajaxChimp.responses[n]!==undefined&&a.ajaxChimp.translations&&a.ajaxChimp.translations[g.language]&&a.ajaxChimp.translations[g.language][a.ajaxChimp.responses[n]]){n=a.ajaxChimp.translations[g.language][a.ajaxChimp.responses[n]]}d.html(n);d.show(2000);if(g.callback){g.callback(s)}}var m={};var i=h.serializeArray();a.each(i,function(o,p){m[p.name]=p.value});a.ajax({url:c,data:m,success:k,dataType:"jsonp",error:function(p,o){console.log("mailchimp ajax submit error: "+o)}});var l="Submitting...";if(g.language!=="en"&&a.ajaxChimp.translations&&a.ajaxChimp.translations[g.language]&&a.ajaxChimp.translations[g.language]["submit"]){l=a.ajaxChimp.translations[g.language]["submit"]}d.html(l).show(2000);return false})});return this}})(jQuery);
/*!
Waypoints - 4.0.0
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){function b(d){if(!d){throw new Error("No options passed to Waypoint constructor")}if(!d.element){throw new Error("No element option passed to Waypoint constructor")}if(!d.handler){throw new Error("No handler option passed to Waypoint constructor")}this.key="waypoint-"+c,this.options=b.Adapter.extend({},b.defaults,d),this.element=this.options.element,this.adapter=new b.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=b.Context.findOrCreateByElement(this.options.context),b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),a[this.key]=this,c+=1}var c=0,a={};b.prototype.queueTrigger=function(d){this.group.queueTrigger(this,d)},b.prototype.trigger=function(d){this.enabled&&this.callback&&this.callback.apply(this,d)},b.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete a[this.key]},b.prototype.disable=function(){return this.enabled=!1,this},b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},b.prototype.next=function(){return this.group.next(this)},b.prototype.previous=function(){return this.group.previous(this)},b.invokeAll=function(d){var g=[];for(var h in a){g.push(a[h])}for(var i=0,f=g.length;f>i;i++){g[i][d]()}},b.destroyAll=function(){b.invokeAll("destroy")},b.disableAll=function(){b.invokeAll("disable")},b.enableAll=function(){b.invokeAll("enable")},b.refreshAll=function(){b.Context.refreshAll()},b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},b.viewportWidth=function(){return document.documentElement.clientWidth},b.adapters=[],b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=b}(),function(){function b(e){window.setTimeout(e,1000/60)}function d(e){this.element=e,this.Adapter=g.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+a,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,f[e.waypointContextKey]=this,a+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var a=0,f={},g=window.Waypoint,c=window.onload;d.prototype.add=function(h){var i=h.options.horizontal?"horizontal":"vertical";this.waypoints[i][h.key]=h,this.refresh()},d.prototype.checkEmpty=function(){var h=this.Adapter.isEmptyObject(this.waypoints.horizontal),i=this.Adapter.isEmptyObject(this.waypoints.vertical);h&&i&&(this.adapter.off(".waypoints"),delete f[this.key])},d.prototype.createThrottledResizeHandler=function(){function h(){i.handleResize(),i.didResize=!1}var i=this;this.adapter.on("resize.waypoints",function(){i.didResize||(i.didResize=!0,g.requestAnimationFrame(h))})},d.prototype.createThrottledScrollHandler=function(){function h(){i.handleScroll(),i.didScroll=!1}var i=this;this.adapter.on("scroll.waypoints",function(){(!i.didScroll||g.isTouch)&&(i.didScroll=!0,g.requestAnimationFrame(h))})},d.prototype.handleResize=function(){g.Context.refreshAll()},d.prototype.handleScroll=function(){var C={},y={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var w in y){var m=y[w],q=m.newScroll>m.oldScroll,j=q?m.forward:m.backward;for(var D in this.waypoints[w]){var A=this.waypoints[w][D],v=m.oldScroll<A.triggerPoint,x=m.newScroll>=A.triggerPoint,k=v&&x,B=!v&&!x;(k||B)&&(A.queueTrigger(j),C[A.group.id]=A.group)}}for(var z in C){C[z].flushTriggers()}this.oldScroll={x:y.horizontal.newScroll,y:y.vertical.newScroll}},d.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},d.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},d.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},d.prototype.destroy=function(){var j=[];for(var k in this.waypoints){for(var h in this.waypoints[k]){j.push(this.waypoints[k][h])}}for(var l=0,m=j.length;m>l;l++){j[l].destroy()}},d.prototype.refresh=function(){var H,A=this.element==this.element.window,q=A?void 0:this.adapter.offset(),m={};this.handleScroll(),H={horizontal:{contextOffset:A?0:q.left,contextScroll:A?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:A?0:q.top,contextScroll:A?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var j in H){var I=H[j];for(var E in this.waypoints[j]){var n,v,k,G,C,B=this.waypoints[j][E],z=B.options.offset,F=B.triggerPoint,D=0,x=null==F;B.element!==B.element.window&&(D=B.adapter.offset()[I.offsetProp]),"function"==typeof z?z=z.apply(B):"string"==typeof z&&(z=parseFloat(z),B.options.offset.indexOf("%")>-1&&(z=Math.ceil(I.contextDimension*z/100))),n=I.contextScroll-I.contextOffset,B.triggerPoint=D+n-z,v=F<I.oldScroll,k=B.triggerPoint>=I.oldScroll,G=v&&k,C=!v&&!k,!x&&G?(B.queueTrigger(I.backward),m[B.group.id]=B.group):!x&&C?(B.queueTrigger(I.forward),m[B.group.id]=B.group):x&&I.oldScroll>=B.triggerPoint&&(B.queueTrigger(I.forward),m[B.group.id]=B.group)}}return g.requestAnimationFrame(function(){for(var e in m){m[e].flushTriggers()}}),this},d.findOrCreateByElement=function(e){return d.findByElement(e)||new d(e)},d.refreshAll=function(){for(var e in f){f[e].refresh()}},d.findByElement=function(e){return f[e.waypointContextKey]},window.onload=function(){c&&c(),d.refreshAll()},g.requestAnimationFrame=function(j){var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b;h.call(window,j)},g.Context=d}(),function(){function b(g,h){return g.triggerPoint-h.triggerPoint}function c(g,h){return h.triggerPoint-g.triggerPoint}function a(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),d[this.axis][this.name]=this}var d={vertical:{},horizontal:{}},f=window.Waypoint;a.prototype.add=function(e){this.waypoints.push(e)},a.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},a.prototype.flushTriggers=function(){for(var g in this.triggerQueues){var k=this.triggerQueues[g],l="up"===g||"left"===g;k.sort(l?c:b);for(var j=0,h=k.length;h>j;j+=1){var e=k[j];(e.options.continuous||j===k.length-1)&&e.trigger([g])}}this.clearTriggerQueues()},a.prototype.next=function(h){this.waypoints.sort(b);var g=f.Adapter.inArray(h,this.waypoints),j=g===this.waypoints.length-1;return j?null:this.waypoints[g+1]},a.prototype.previous=function(h){this.waypoints.sort(b);var g=f.Adapter.inArray(h,this.waypoints);return g?this.waypoints[g-1]:null},a.prototype.queueTrigger=function(g,h){this.triggerQueues[h].push(g)},a.prototype.remove=function(g){var h=f.Adapter.inArray(g,this.waypoints);h>-1&&this.waypoints.splice(h,1)},a.prototype.first=function(){return this.waypoints[0]},a.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},a.findOrCreate=function(e){return d[e.axis][e.name]||new a(e)},f.Group=a}(),function(){function b(d){this.$element=c(d)}var c=window.jQuery,a=window.Waypoint;c.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(f,d){b.prototype[d]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[d].apply(this.$element,e)}}),c.each(["extend","inArray","isEmptyObject"],function(d,e){b[e]=c[e]}),a.adapters.push({name:"jquery",Adapter:b}),a.Adapter=b}(),function(){function a(c){return function(){var d=[],e=arguments[0];return c.isFunction(arguments[0])&&(e=c.extend({},arguments[1]),e.handler=arguments[0]),this.each(function(){var f=c.extend({},e,{element:this});"string"==typeof f.context&&(f.context=c(this).closest(f.context)[0]),d.push(new b(f))}),d}}var b=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))}();(function(b){typeof define=="function"&&define.amd?define(["jquery"],b):typeof exports=="object"?b(require("jquery")):b(window.jQuery||window.Zepto)})(function(aQ){var aP="Close",aO="BeforeClose",aN="AfterClose",aM="BeforeAppend",aL="MarkupParse",aK="Open",aJ="Change",aI="mfp",aH="."+aI,aG="mfp-ready",aF="mfp-removing",aE="mfp-prevent-close",aD,aC=function(){},aB=!!window.jQuery,aA,az=aQ(window),ay,ax,aw,av,au=function(d,c){aD.ev.on(aI+d+aH,c)},at=function(a,j,i,h){var g=document.createElement("div");return g.className="mfp-"+a,i&&(g.innerHTML=i),h?j&&j.appendChild(g):(g=aQ(g),j&&g.appendTo(j)),g},ar=function(a,d){aD.ev.triggerHandler(aI+a,d),aD.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),aD.st.callbacks[a]&&aD.st.callbacks[a].apply(aD,aQ.isArray(d)?d:[d]))},aq=function(a){if(a!==av||!aD.currTemplate.closeBtn){aD.currTemplate.closeBtn=aQ(aD.st.closeMarkup.replace("%title%",aD.st.tClose)),av=a}return aD.currTemplate.closeBtn},ap=function(){aQ.magnificPopup.instance||(aD=new aC,aD.init(),aQ.magnificPopup.instance=aD)},ao=function(){var d=document.createElement("p").style,c=["ms","O","Moz","Webkit"];if(d.transition!==undefined){return !0}while(c.length){if(c.pop()+"Transition" in d){return !0}}return !1};aC.prototype={constructor:aC,init:function(){var a=navigator.appVersion;aD.isIE7=a.indexOf("MSIE 7.")!==-1,aD.isIE8=a.indexOf("MSIE 8.")!==-1,aD.isLowIE=aD.isIE7||aD.isIE8,aD.isAndroid=/android/gi.test(a),aD.isIOS=/iphone|ipad|ipod/gi.test(a),aD.supportsTransition=ao(),aD.probablyMobile=aD.isAndroid||aD.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),ay=aQ(document),aD.popupsCache={}},open:function(t){var s;if(t.isObj===!1){aD.items=t.items.toArray(),aD.index=0;var r=t.items,q;for(s=0;s<r.length;s++){q=r[s],q.parsed&&(q=q.el[0]);if(q===t.el[0]){aD.index=s;break}}}else{aD.items=aQ.isArray(t.items)?t.items:[t.items],aD.index=t.index||0}if(aD.isOpen){aD.updateItemHTML();return}aD.types=[],aw="",t.mainEl&&t.mainEl.length?aD.ev=t.mainEl.eq(0):aD.ev=ay,t.key?(aD.popupsCache[t.key]||(aD.popupsCache[t.key]={}),aD.currTemplate=aD.popupsCache[t.key]):aD.currTemplate={},aD.st=aQ.extend(!0,{},aQ.magnificPopup.defaults,t),aD.fixedContentPos=aD.st.fixedContentPos==="auto"?!aD.probablyMobile:aD.st.fixedContentPos,aD.st.modal&&(aD.st.closeOnContentClick=!1,aD.st.closeOnBgClick=!1,aD.st.showCloseBtn=!1,aD.st.enableEscapeKey=!1),aD.bgOverlay||(aD.bgOverlay=at("bg").on("click"+aH,function(){aD.close()}),aD.wrap=at("wrap").attr("tabindex",-1).on("click"+aH,function(b){aD._checkIfClose(b.target)&&aD.close()}),aD.container=at("container",aD.wrap)),aD.contentContainer=at("content"),aD.st.preloader&&(aD.preloader=at("preloader",aD.container,aD.st.tLoading));var n=aQ.magnificPopup.modules;for(s=0;s<n.length;s++){var k=n[s];k=k.charAt(0).toUpperCase()+k.slice(1),aD["init"+k].call(aD)}ar("BeforeOpen"),aD.st.showCloseBtn&&(aD.st.closeBtnInside?(au(aL,function(h,e,l,i){l.close_replaceWith=aq(i.type)}),aw+=" mfp-close-btn-in"):aD.wrap.append(aq())),aD.st.alignTop&&(aw+=" mfp-align-top"),aD.fixedContentPos?aD.wrap.css({overflow:aD.st.overflowY,overflowX:"hidden",overflowY:aD.st.overflowY}):aD.wrap.css({top:az.scrollTop(),position:"absolute"}),(aD.st.fixedBgPos===!1||aD.st.fixedBgPos==="auto"&&!aD.fixedContentPos)&&aD.bgOverlay.css({height:ay.height(),position:"absolute"}),aD.st.enableEscapeKey&&ay.on("keyup"+aH,function(b){b.keyCode===27&&aD.close()}),az.on("resize"+aH,function(){aD.updateSize()}),aD.st.closeOnContentClick||(aw+=" mfp-auto-cursor"),aw&&aD.wrap.addClass(aw);var j=aD.wH=az.height(),g={};if(aD.fixedContentPos&&aD._hasScrollBar(j)){var f=aD._getScrollbarSize();f&&(g.marginRight=f)}aD.fixedContentPos&&(aD.isIE7?aQ("body, html").css("overflow","hidden"):g.overflow="hidden");var a=aD.st.mainClass;return aD.isIE7&&(a+=" mfp-ie7"),a&&aD._addClassToMFP(a),aD.updateItemHTML(),ar("BuildControls"),aQ("html").css(g),aD.bgOverlay.add(aD.wrap).prependTo(aD.st.prependTo||aQ(document.body)),aD._lastFocusedEl=document.activeElement,setTimeout(function(){aD.content?(aD._addClassToMFP(aG),aD._setFocus()):aD.bgOverlay.addClass(aG),ay.on("focusin"+aH,aD._onFocusIn)},16),aD.isOpen=!0,aD.updateSize(j),ar(aK),t},close:function(){if(!aD.isOpen){return}ar(aO),aD.isOpen=!1,aD.st.removalDelay&&!aD.isLowIE&&aD.supportsTransition?(aD._addClassToMFP(aF),setTimeout(function(){aD._close()},aD.st.removalDelay)):aD._close()},_close:function(){ar(aP);var b=aF+" "+aG+" ";aD.bgOverlay.detach(),aD.wrap.detach(),aD.container.empty(),aD.st.mainClass&&(b+=aD.st.mainClass+" "),aD._removeClassFromMFP(b);if(aD.fixedContentPos){var a={marginRight:""};aD.isIE7?aQ("body, html").css("overflow",""):a.overflow="",aQ("html").css(a)}ay.off("keyup"+aH+" focusin"+aH),aD.ev.off(aH),aD.wrap.attr("class","mfp-wrap").removeAttr("style"),aD.bgOverlay.attr("class","mfp-bg"),aD.container.attr("class","mfp-container"),aD.st.showCloseBtn&&(!aD.st.closeBtnInside||aD.currTemplate[aD.currItem.type]===!0)&&aD.currTemplate.closeBtn&&aD.currTemplate.closeBtn.detach(),aD.st.autoFocusLast&&aD._lastFocusedEl&&aQ(aD._lastFocusedEl).focus(),aD.currItem=null,aD.content=null,aD.currTemplate=null,aD.prevHeight=0,ar(aN)},updateSize:function(e){if(aD.isIOS){var d=document.documentElement.clientWidth/window.innerWidth,f=window.innerHeight*d;aD.wrap.css("height",f),aD.wH=f}else{aD.wH=e||az.height()}aD.fixedContentPos||aD.wrap.css("height",aD.wH),ar("Resize")},updateItemHTML:function(){var a=aD.items[aD.index];aD.contentContainer.detach(),aD.content&&aD.content.detach(),a.parsed||(a=aD.parseEl(aD.index));var h=a.type;ar("BeforeChange",[aD.currItem?aD.currItem.type:"",h]),aD.currItem=a;if(!aD.currTemplate[h]){var g=aD.st[h]?aD.st[h].markup:!1;ar("FirstMarkupParse",g),g?aD.currTemplate[h]=aQ(g):aD.currTemplate[h]=!0}ax&&ax!==a.type&&aD.container.removeClass("mfp-"+ax+"-holder");var f=aD["get"+h.charAt(0).toUpperCase()+h.slice(1)](a,aD.currTemplate[h]);aD.appendContent(f,h),a.preloaded=!0,ar(aJ,a),ax=a.type,aD.container.prepend(aD.contentContainer),ar("AfterChange")},appendContent:function(d,c){aD.content=d,d?aD.st.showCloseBtn&&aD.st.closeBtnInside&&aD.currTemplate[c]===!0?aD.content.find(".mfp-close").length||aD.content.append(aq()):aD.content=d:aD.content="",ar(aM),aD.container.addClass("mfp-"+c+"-holder"),aD.contentContainer.append(aD.content)},parseEl:function(a){var j=aD.items[a],i;j.tagName?j={el:aQ(j)}:(i=j.type,j={data:j,src:j.src});if(j.el){var h=aD.types;for(var g=0;g<h.length;g++){if(j.el.hasClass("mfp-"+h[g])){i=h[g];break}}j.src=j.el.attr("data-mfp-src"),j.src||(j.src=j.el.attr("href"))}return j.type=i||aD.st.type||"inline",j.index=a,j.parsed=!0,aD.items[a]=j,ar("ElementParse",j),aD.items[a]},addGroup:function(f,e){var h=function(a){a.mfpEl=this,aD._openClick(a,f,e)};e||(e={});var g="click.magnificPopup";e.mainEl=f,e.items?(e.isObj=!0,f.off(g).on(g,h)):(e.isObj=!1,e.delegate?f.off(g).on(g,e.delegate,h):(e.items=f,f.off(g).on(g,h)))},_openClick:function(a,j,i){var h=i.midClick!==undefined?i.midClick:aQ.magnificPopup.defaults.midClick;if(!h&&(a.which===2||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){return}var g=i.disableOn!==undefined?i.disableOn:aQ.magnificPopup.defaults.disableOn;if(g){if(aQ.isFunction(g)){if(!g.call(aD)){return !0}}else{if(az.width()<g){return !0}}}a.type&&(a.preventDefault(),aD.isOpen&&a.stopPropagation()),i.el=aQ(a.mfpEl),i.delegate&&(i.items=j.find(i.delegate)),aD.open(i)},updateStatus:function(e,d){if(aD.preloader){aA!==e&&aD.container.removeClass("mfp-s-"+aA),!d&&e==="loading"&&(d=aD.st.tLoading);var f={status:e,text:d};ar("UpdateStatus",f),e=f.status,d=f.text,aD.preloader.html(d),aD.preloader.find("a").on("click",function(b){b.stopImmediatePropagation()}),aD.container.addClass("mfp-s-"+e),aA=e}},_checkIfClose:function(a){if(aQ(a).hasClass(aE)){return}var f=aD.st.closeOnContentClick,e=aD.st.closeOnBgClick;if(f&&e){return !0}if(!aD.content||aQ(a).hasClass("mfp-close")||aD.preloader&&a===aD.preloader[0]){return !0}if(a!==aD.content[0]&&!aQ.contains(aD.content[0],a)){if(e&&aQ.contains(document,a)){return !0}}else{if(f){return !0}}return !1},_addClassToMFP:function(b){aD.bgOverlay.addClass(b),aD.wrap.addClass(b)},_removeClassFromMFP:function(b){this.bgOverlay.removeClass(b),aD.wrap.removeClass(b)},_hasScrollBar:function(b){return(aD.isIE7?ay.height():document.body.scrollHeight)>(b||az.height())},_setFocus:function(){(aD.st.focus?aD.content.find(aD.st.focus).eq(0):aD.wrap).focus()},_onFocusIn:function(a){if(a.target!==aD.wrap[0]&&!aQ.contains(aD.wrap[0],a.target)){return aD._setFocus(),!1}},_parseMarkup:function(a,h,g){var f;g.data&&(h=aQ.extend(g.data,h)),ar(aL,[a,h,g]),aQ.each(h,function(b,j){if(j===undefined||j===!1){return !0}f=b.split("_");if(f.length>1){var i=a.find(aH+"-"+f[0]);if(i.length>0){var e=f[1];e==="replaceWith"?i[0]!==j[0]&&i.replaceWith(j):e==="img"?i.is("img")?i.attr("src",j):i.replaceWith('<img src="'+j+'" class="'+i.attr("class")+'" />'):i.attr(f[1],j)}}else{a.find(aH+"-"+b).html(j)}})},_getScrollbarSize:function(){if(aD.scrollbarSize===undefined){var b=document.createElement("div");b.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(b),aD.scrollbarSize=b.offsetWidth-b.clientWidth,document.body.removeChild(b)}return aD.scrollbarSize}},aQ.magnificPopup={instance:null,proto:aC.prototype,modules:[],open:function(a,d){return ap(),a?a=aQ.extend(!0,{},a):a={},a.isObj=!0,a.index=d||0,this.instance.open(a)},close:function(){return aQ.magnificPopup.instance&&aQ.magnificPopup.instance.close()},registerModule:function(a,d){d.options&&(aQ.magnificPopup.defaults[a]=d.options),aQ.extend(this.proto,d.proto),this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},aQ.fn.magnificPopup=function(a){ap();var j=aQ(this);if(typeof a=="string"){if(a==="open"){var i,h=aB?j.data("magnificPopup"):j[0].magnificPopup,g=parseInt(arguments[1],10)||0;h.items?i=h.items[g]:(i=j,h.delegate&&(i=i.find(h.delegate)),i=i.eq(g)),aD._openClick({mfpEl:i},j,h)}else{aD.isOpen&&aD[a].apply(aD,Array.prototype.slice.call(arguments,1))}}else{a=aQ.extend(!0,{},a),aB?j.data("magnificPopup",a):j[0].magnificPopup=a,aD.addGroup(j,a)}return j};var an="inline",am,al,ak,aj=function(){ak&&(al.after(ak.addClass(am)).detach(),ak=null)};aQ.magnificPopup.registerModule(an,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){aD.types.push(an),au(aP+"."+an,function(){aj()})},getInline:function(a,j){aj();if(a.src){var i=aD.st.inline,h=aQ(a.src);if(h.length){var g=h[0].parentNode;g&&g.tagName&&(al||(am=i.hiddenClass,al=at(am),am="mfp-"+am),ak=h.after(al).detach().removeClass(am)),aD.updateStatus("ready")}else{aD.updateStatus("error",i.tNotFound),h=aQ("<div>")}return a.inlineElement=h,h}return aD.updateStatus("ready"),aD._parseMarkup(j,{},a),j}}});var ai="ajax",ah,ag=function(){ah&&aQ(document.body).removeClass(ah)},af=function(){ag(),aD.req&&aD.req.abort()};aQ.magnificPopup.registerModule(ai,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){aD.types.push(ai),ah=aD.st.ajax.cursor,au(aP+"."+ai,af),au("BeforeChange."+ai,af)},getAjax:function(a){ah&&aQ(document.body).addClass(ah),aD.updateStatus("loading");var d=aQ.extend({url:a.src,success:function(i,h,g){var b={data:i,xhr:g};ar("ParseAjax",b),aD.appendContent(aQ(b.data),ai),a.finished=!0,ag(),aD._setFocus(),setTimeout(function(){aD.wrap.addClass(aG)},16),aD.updateStatus("ready"),ar("AjaxContentAdded")},error:function(){ag(),a.finished=a.loadError=!0,aD.updateStatus("error",aD.st.ajax.tError.replace("%url%",a.src))}},aD.st.ajax.settings);return aD.req=aQ.ajax(d),""}}});var ae,ad=function(a){if(a.data&&a.data.title!==undefined){return a.data.title}var d=aD.st.image.titleSrc;if(d){if(aQ.isFunction(d)){return d.call(aD,a)}if(a.el){return a.el.attr(d)||""}}return""};aQ.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var b=aD.st.image,a=".image";aD.types.push("image"),au(aK+a,function(){aD.currItem.type==="image"&&b.cursor&&aQ(document.body).addClass(b.cursor)}),au(aP+a,function(){b.cursor&&aQ(document.body).removeClass(b.cursor),az.off("resize"+aH)}),au("Resize"+a,aD.resizeImage),aD.isLowIE&&au("AfterChange",aD.resizeImage)},resizeImage:function(){var d=aD.currItem;if(!d||!d.img){return}if(aD.st.image.verticalFit){var c=0;aD.isLowIE&&(c=parseInt(d.img.css("padding-top"),10)+parseInt(d.img.css("padding-bottom"),10)),d.img.css("max-height",aD.wH-c)}},_onImageHasSize:function(b){b.img&&(b.hasSize=!0,ae&&clearInterval(ae),b.isCheckingImgSize=!1,ar("ImageHasSize",b),b.imgHidden&&(aD.content&&aD.content.removeClass("mfp-loading"),b.imgHidden=!1))},findImageSize:function(f){var e=0,h=f.img[0],g=function(a){ae&&clearInterval(ae),ae=setInterval(function(){if(h.naturalWidth>0){aD._onImageHasSize(f);return}e>200&&clearInterval(ae),e++,e===3?g(10):e===40?g(50):e===100&&g(500)},a)};g(1)},getImage:function(a,p){var o=0,n=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===aD.currItem&&(aD._onImageHasSize(a),aD.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,ar("ImageLoadComplete")):(o++,o<200?setTimeout(n,100):m()))},m=function(){a&&(a.img.off(".mfploader"),a===aD.currItem&&(aD._onImageHasSize(a),aD.updateStatus("error",l.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},l=aD.st.image,k=p.find(".mfp-img");if(k.length){var j=document.createElement("img");j.className="mfp-img",a.el&&a.el.find("img").length&&(j.alt=a.el.find("img").attr("alt")),a.img=aQ(j).on("load.mfploader",n).on("error.mfploader",m),j.src=a.src,k.is("img")&&(a.img=a.img.clone()),j=a.img[0],j.naturalWidth>0?a.hasSize=!0:j.width||(a.hasSize=!1)}return aD._parseMarkup(p,{title:ad(a),img_replaceWith:a.img},a),aD.resizeImage(),a.hasSize?(ae&&clearInterval(ae),a.loadError?(p.addClass("mfp-loading"),aD.updateStatus("error",l.tError.replace("%url%",a.src))):(p.removeClass("mfp-loading"),aD.updateStatus("ready")),p):(aD.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,p.addClass("mfp-loading"),aD.findImageSize(a)),p)}}});var ac,ab=function(){return ac===undefined&&(ac=document.createElement("p").style.MozTransform!==undefined),ac};aQ.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(b){return b.is("img")?b:b.find("img")}},proto:{initZoom:function(){var b=aD.st.zoom,p=".zoom",o;if(!b.enabled||!aD.supportsTransition){return}var n=b.duration,m=function(a){var j=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+b.duration/1000+"s "+b.easing,h={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},g="transition";return h["-webkit-"+g]=h["-moz-"+g]=h["-o-"+g]=h[g]=i,j.css(h),j},l=function(){aD.content.css("visibility","visible")},k,c;au("BuildControls"+p,function(){if(aD._allowZoom()){clearTimeout(k),aD.content.css("visibility","hidden"),o=aD._getItemToZoom();if(!o){l();return}c=m(o),c.css(aD._getOffset()),aD.wrap.append(c),k=setTimeout(function(){c.css(aD._getOffset(!0)),k=setTimeout(function(){l(),setTimeout(function(){c.remove(),o=c=null,ar("ZoomAnimationEnded")},16)},n)},16)}}),au(aO+p,function(){if(aD._allowZoom()){clearTimeout(k),aD.st.removalDelay=n;if(!o){o=aD._getItemToZoom();if(!o){return}c=m(o)}c.css(aD._getOffset(!0)),aD.wrap.append(c),aD.content.css("visibility","hidden"),setTimeout(function(){c.css(aD._getOffset())},16)}}),au(aP+p,function(){aD._allowZoom()&&(l(),c&&c.remove(),o=null)})},_allowZoom:function(){return aD.currItem.type==="image"},_getItemToZoom:function(){return aD.currItem.hasSize?aD.currItem.img:!1},_getOffset:function(a){var l;a?l=aD.currItem.img:l=aD.st.zoom.opener(aD.currItem.el||aD.currItem);var k=l.offset(),j=parseInt(l.css("padding-top"),10),i=parseInt(l.css("padding-bottom"),10);k.top-=aQ(window).scrollTop()-j;var h={width:l.width(),height:(aB?l.innerHeight():l[0].offsetHeight)-i-j};return ab()?h["-moz-transform"]=h.transform="translate("+k.left+"px,"+k.top+"px)":(h.left=k.left,h.top=k.top),h}}});var aa="iframe",Z="//about:blank",Y=function(d){if(aD.currTemplate[aa]){var c=aD.currTemplate[aa].find("iframe");c.length&&(d||(c[0].src=Z),aD.isIE8&&c.css("display",d?"block":"none"))}};aQ.magnificPopup.registerModule(aa,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){aD.types.push(aa),au("BeforeChange",function(e,d,f){d!==f&&(d===aa?Y():f===aa&&Y(!0))}),au(aP+"."+aa,function(){Y()})},getIframe:function(a,j){var i=a.src,h=aD.st.iframe;aQ.each(h.patterns,function(){if(i.indexOf(this.index)>-1){return this.id&&(typeof this.id=="string"?i=i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):i=this.id.call(this,i)),i=this.src.replace("%id%",i),!1}});var g={};return h.srcAction&&(g[h.srcAction]=i),aD._parseMarkup(j,g,a),aD.updateStatus("ready"),j}}});var X=function(d){var c=aD.items.length;return d>c-1?d-c:d<0?c+d:d},W=function(e,d,f){return e.replace(/%curr%/gi,d+1).replace(/%total%/gi,f)};aQ.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var f=aD.st.gallery,b=".mfp-gallery",a=Boolean(aQ.fn.mfpFastClick);aD.direction=!0;if(!f||!f.enabled){return !1}aw+=" mfp-gallery",au(aK+b,function(){f.navigateByImgClick&&aD.wrap.on("click"+b,".mfp-img",function(){if(aD.items.length>1){return aD.next(),!1}}),ay.on("keydown"+b,function(c){c.keyCode===37?aD.prev():c.keyCode===39&&aD.next()})}),au("UpdateStatus"+b,function(d,c){c.text&&(c.text=W(c.text,aD.currItem.index,aD.items.length))}),au(aL+b,function(g,c,j,i){var h=aD.items.length;j.counter=h>1?W(f.tCounter,i.index,h):""}),au("BuildControls"+b,function(){if(aD.items.length>1&&f.arrows&&!aD.arrowLeft){var c=f.arrowMarkup,i=aD.arrowLeft=aQ(c.replace(/%title%/gi,f.tPrev).replace(/%dir%/gi,"left")).addClass(aE),h=aD.arrowRight=aQ(c.replace(/%title%/gi,f.tNext).replace(/%dir%/gi,"right")).addClass(aE),e=a?"mfpFastClick":"click";i[e](function(){aD.prev()}),h[e](function(){aD.next()}),aD.isIE7&&(at("b",i[0],!1,!0),at("a",i[0],!1,!0),at("b",h[0],!1,!0),at("a",h[0],!1,!0)),aD.container.append(i.add(h))}}),au(aJ+b,function(){aD._preloadTimeout&&clearTimeout(aD._preloadTimeout),aD._preloadTimeout=setTimeout(function(){aD.preloadNearbyImages(),aD._preloadTimeout=null},16)}),au(aP+b,function(){ay.off(b),aD.wrap.off("click"+b),aD.arrowLeft&&a&&aD.arrowLeft.add(aD.arrowRight).destroyMfpFastClick(),aD.arrowRight=aD.arrowLeft=null})},next:function(){aD.direction=!0,aD.index=X(aD.index+1),aD.updateItemHTML()},prev:function(){aD.direction=!1,aD.index=X(aD.index-1),aD.updateItemHTML()},goTo:function(b){aD.direction=b>=aD.index,aD.index=b,aD.updateItemHTML()},preloadNearbyImages:function(){var f=aD.st.gallery.preload,e=Math.min(f[0],aD.items.length),h=Math.min(f[1],aD.items.length),g;for(g=1;g<=(aD.direction?h:e);g++){aD._preloadItem(aD.index+g)}for(g=1;g<=(aD.direction?e:h);g++){aD._preloadItem(aD.index-g)}},_preloadItem:function(a){a=X(a);if(aD.items[a].preloaded){return}var d=aD.items[a];d.parsed||(d=aD.parseEl(a)),ar("LazyLoad",d),d.type==="image"&&(d.img=aQ('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,ar("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}});var V="retina";aQ.magnificPopup.registerModule(V,{options:{replaceSrc:function(b){return b.src.replace(/\.\w+$/,function(c){return"@2x"+c})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var d=aD.st.retina,c=d.ratio;c=isNaN(c)?c():c,c>1&&(au("ImageHasSize."+V,function(b,e){e.img.css({"max-width":e.img[0].naturalWidth/c,width:"100%"})}),au("ElementParse."+V,function(b,a){a.src=d.replaceSrc(a,c)}))}}}}),function(){var a=1000,j="ontouchstart" in window,i=function(){az.off("touchmove"+g+" touchend"+g)},h="mfpFastClick",g="."+h;aQ.fn.mfpFastClick=function(b){return aQ(this).each(function(){var q=aQ(this),p;if(j){var o,f,e,d,c,r;q.on("touchstart"+g,function(k){d=!1,r=1,c=k.originalEvent?k.originalEvent.touches[0]:k.touches[0],f=c.clientX,e=c.clientY,az.on("touchmove"+g,function(l){c=l.originalEvent?l.originalEvent.touches:l.touches,r=c.length,c=c[0];if(Math.abs(c.clientX-f)>10||Math.abs(c.clientY-e)>10){d=!0,i()}}).on("touchend"+g,function(l){i();if(d||r>1){return}p=!0,l.preventDefault(),clearTimeout(o),o=setTimeout(function(){p=!1},a),b()})})}q.on("click"+g,function(){p||b()})})},aQ.fn.destroyMfpFastClick=function(){aQ(this).off("touchstart"+g+" click"+g),j&&az.off("touchmove"+g+" touchend"+g)}}(),ap()});
